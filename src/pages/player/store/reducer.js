import { Map } from 'immutable'
import * as  actionTypes from './constants'

const defaultState = Map({
  playList: [
    {
      "name": "男孩 (Live)",
      "id": 467952048,
      "pst": 0,
      "t": 0,
      "ar": [
        {
          "id": 166010,
          "name": "梁博",
          "tns": [],
          "alias": []
        }
      ],
      "alia": [],
      "pop": 100,
      "st": 0,
      "rt": null,
      "fee": 8,
      "v": 15,
      "crbt": null,
      "cf": "",
      "al": {
        "id": 35313032,
        "name": "歌手 第10期",
        "picUrl": "https://p1.music.126.net/3a4PDoGKbio9zj7EPfDhSw==/109951163895804698.jpg",
        "tns": [],
        "pic_str": "109951163895804698",
        "pic": 109951163895804700
      },
      "dt": 311914,
      "h": {
        "br": 320000,
        "fid": 0,
        "size": 12479260,
        "vd": 0
      },
      "m": {
        "br": 192000,
        "fid": 0,
        "size": 7487573,
        "vd": 756
      },
      "l": {
        "br": 128000,
        "fid": 0,
        "size": 4991730,
        "vd": 2974
      },
      "a": null,
      "cd": "1",
      "no": 2,
      "rtUrl": null,
      "ftype": 0,
      "rtUrls": [],
      "djId": 0,
      "copyright": 2,
      "s_id": 0,
      "mark": 73728,
      "originCoverType": 0,
      "single": 0,
      "noCopyrightRcmd": null,
      "mv": 0,
      "rtype": 0,
      "rurl": null,
      "mst": 9,
      "cp": 1416092,
      "publishTime": 1490371200007
    },
    {
      "name": "嚣张",
      "id": 1382596189,
      "pst": 0,
      "t": 0,
      "ar": [
        {
          "id": 32220939,
          "name": "en",
          "tns": [],
          "alias": []
        }
      ],
      "alia": [],
      "pop": 100,
      "st": 0,
      "rt": "",
      "fee": 8,
      "v": 10,
      "crbt": null,
      "cf": "",
      "al": {
        "id": 80816891,
        "name": "嚣张",
        "picUrl": "https://p1.music.126.net/NhkuFBphLFaSmYMeW1-frQ==/109951164271814514.jpg",
        "tns": [],
        "pic_str": "109951164271814514",
        "pic": 109951164271814510
      },
      "dt": 253994,
      "h": {
        "br": 320000,
        "fid": 0,
        "size": 10162605,
        "vd": -55669
      },
      "m": {
        "br": 192000,
        "fid": 0,
        "size": 6097581,
        "vd": -53082
      },
      "l": {
        "br": 128000,
        "fid": 0,
        "size": 4065069,
        "vd": -51369
      },
      "a": null,
      "cd": "01",
      "no": 1,
      "rtUrl": null,
      "ftype": 0,
      "rtUrls": [],
      "djId": 0,
      "copyright": 0,
      "s_id": 0,
      "mark": 0,
      "originCoverType": 0,
      "single": 0,
      "noCopyrightRcmd": null,
      "mv": 0,
      "rtype": 0,
      "rurl": null,
      "mst": 9,
      "cp": 1372818,
      "publishTime": 0
    },
    {
      "name": "世间美好与你环环相扣",
      "id": 1363948882,
      "pst": 0,
      "t": 0,
      "ar": [
        {
          "id": 31876221,
          "name": "柏松",
          "tns": [],
          "alias": []
        }
      ],
      "alia": [],
      "pop": 100,
      "st": 0,
      "rt": "",
      "fee": 8,
      "v": 19,
      "crbt": null,
      "cf": "",
      "al": {
        "id": 78938226,
        "name": "听闻余生",
        "picUrl": "https://p2.music.126.net/DK1_4sP_339o5rowMdPXdw==/109951164071024476.jpg",
        "tns": [],
        "pic_str": "109951164071024476",
        "pic": 109951164071024480
      },
      "dt": 191960,
      "h": {
        "br": 320000,
        "fid": 0,
        "size": 7681089,
        "vd": -37574
      },
      "m": {
        "br": 192000,
        "fid": 0,
        "size": 4608671,
        "vd": -34959
      },
      "l": {
        "br": 128000,
        "fid": 0,
        "size": 3072462,
        "vd": -33277
      },
      "a": null,
      "cd": "01",
      "no": 1,
      "rtUrl": null,
      "ftype": 0,
      "rtUrls": [],
      "djId": 0,
      "copyright": 0,
      "s_id": 0,
      "mark": 0,
      "originCoverType": 0,
      "single": 0,
      "noCopyrightRcmd": null,
      "rtype": 0,
      "rurl": null,
      "mst": 9,
      "cp": 0,
      "mv": 10909947,
      "publishTime": 0
    },
    {
      "name": "银河飞车",
      "id": 1409003291,
      "pst": 0,
      "t": 0,
      "ar": [
          {
              "id": 12213291,
              "name": "张叶蕾",
              "tns": [],
              "alias": []
          }
      ],
      "alia": [],
      "pop": 100,
      "st": 0,
      "rt": "",
      "fee": 8,
      "v": 3,
      "crbt": null,
      "cf": "",
      "al": {
          "id": 84038715,
          "name": "银河飞车",
          "picUrl": "https://p2.music.126.net/GV31bw-gEwRmYqZJIOwMtQ==/109951164543234602.jpg",
          "tns": [],
          "pic_str": "109951164543234602",
          "pic": 109951164543234610
      },
      "dt": 259879,
      "h": {
          "br": 320000,
          "fid": 0,
          "size": 10397823,
          "vd": -51220
      },
      "m": {
          "br": 192000,
          "fid": 0,
          "size": 6238711,
          "vd": -48622
      },
      "l": {
          "br": 128000,
          "fid": 0,
          "size": 4159155,
          "vd": -46899
      },
      "a": null,
      "cd": "01",
      "no": 0,
      "rtUrl": null,
      "ftype": 0,
      "rtUrls": [],
      "djId": 0,
      "copyright": 0,
      "s_id": 0,
      "mark": 0,
      "originCoverType": 0,
      "single": 0,
      "noCopyrightRcmd": null,
      "rtype": 0,
      "rurl": null,
      "mst": 9,
      "cp": 0,
      "mv": 0,
      "publishTime": 0
  }
  ],
  currentSongIndex: 0,
  currentSong: {},
  sequence: 0, //0-循环播放 1-随机播放 2-单曲播放
  lyricList:[],
  curLyricIndex:0
});

export default function reducer(state = defaultState, action) {
  switch (action.type) {
    case actionTypes.CHANGE_CURRENT_SONG:
      return state.set("currentSong", action.currentSong)
    case actionTypes.CHANGE_PLAY_LIST:
      return state.set("playList", action.playList)
    case actionTypes.CHANGE_CURRENT_SONG_INDEX:
      return state.set("currentSongIndex", action.currentSongIndex)
    case actionTypes.CHANGE_SEQUENCE:
      return state.set("sequence", action.sequence)
    case actionTypes.CHANGE_LYRIC_LIST:
      return state.set("lyricList", action.lyricList)
    case actionTypes.CHANGE_CURRENT_LYRIC_INDEX:
      return state.set("curLyricIndex", action.curLyricIndex)
    default:
      return state;
  }
}